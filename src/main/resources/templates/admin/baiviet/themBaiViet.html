<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="admin/layouts/header::header"></head>

<body class="sb-nav-fixed">
  <nav th:replace="admin/layouts/navBar::navBar"></nav>

  <div id="layoutSidenav">
    <div th:replace="admin/layouts/sideBar::sideBar"></div>

    <div id="layoutSidenav_content">
      <main>
        <div class="container-fluid px-4 mt-5">
          <div class="card shadow-sm">
            <div class="card-header d-flex align-items-center justify-content-between">
              <div>
                <i class="fa-solid fa-table me-2"></i>
                <span class="fw-semibold">Danh sách bài viết</span>
              </div>

              <!-- Nếu muốn mở form ngay trên trang thì scroll xuống form -->
              <a class="btn btn-sm btn-primary" href="#formThemBaiViet">
                <i class="fa-solid fa-plus me-1"></i> Thêm bài viết
              </a>
            </div>

            <div class="card-body">
              <!-- ✅ FORM THÊM BÀI VIẾT -->
              <div id="formThemBaiViet" class="mb-4">
                <form th:action="@{/admin/BaiViet/them}" method="post">
                    <input type="hidden" name="tacGiaId"
       th:value="${#authentication.principal.nguoiDungId}">

                  <div class="mb-3">
                    <label class="form-label">Nhập tên bài viết</label>
                    <input class="form-control" type="text" name="tieuDe" placeholder="VD: Thông báo lịch thi..." required>
                  </div>

                  <div class="mb-3">
                    <label class="form-label">Nhập nội dung</label>
                    <textarea class="form-control" name="noiDung" rows="5" placeholder="Nội dung..." required></textarea>
                  </div>

                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" name="ghim" id="ghim">
                    <label class="form-check-label" for="ghim">Ghim bài viết</label>
                  </div>
                  <select>
                    <option value="" disabled selected>Chọn danh mục</option>
                    <option th:each="danhMuc : ${dsDanhMuc}" th:value="${danhMuc.danhMucId}" th:text="${danhMuc.tenDanhMuc}"></option>
                  </select>

                  <button type="submit" class="btn btn-primary btn-sm">
                    <i class="fa-solid fa-plus me-1"></i> Lưu bài viết
                  </button>
                </form>
              </div>

              <!-- ✅ BẢNG LIST (để sau, cậu add table vào đây) -->
              <div class="table-responsive">
                <!-- table here -->
              </div>
            </div>
          </div>
        </div>
      </main>

      <footer th:replace="admin/layouts/footer::footer"></footer>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script th:src="@{/assets/js/scripts.js}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
</body>
</html>
